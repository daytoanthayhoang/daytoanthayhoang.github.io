<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Học Thuộc 7 Hằng Đẳng Thức</title>
    <!-- Tích hợp Tailwind CSS và Google Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #f9fafb;
        }
        .tab-button.active {
            border-color: #2563eb;
            background-color: #2563eb;
            color: white;
        }
        .identity-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .identity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        .option-btn {
            transition: all 0.2s ease-in-out;
        }
        .option-btn:hover {
            transform: scale(1.03);
        }
        .option-btn.correct {
            background-color: #22c55e !important;
            color: white !important;
            border-color: #16a34a !important;
        }
        .option-btn.incorrect {
            background-color: #ef4444 !important;
            color: white !important;
            border-color: #dc2626 !important;
        }
    </style>
</head>
<body class="text-gray-800">

    <main class="container mx-auto px-4 py-8">
        <section id="hoc-hdt">
            <h1 class="text-3xl md:text-4xl font-bold text-center text-gray-900 mb-4">Học Thuộc 7 Hằng Đẳng Thức Đáng Nhớ</h1>
            <p class="text-center text-gray-600 mb-10">Chọn một phương pháp học bên dưới.</p>
            
            <div class="flex justify-center border-b mb-6">
                <button id="tab-hoc-thuoc" class="tab-button active text-lg font-semibold py-2 px-6 border-b-4 transition-colors duration-300">Học thuộc</button>
                <button id="tab-luyen-tap" class="tab-button text-lg font-semibold py-2 px-6 border-b-4 border-transparent transition-colors duration-300">Luyện tập & Nhận biết lỗi sai</button>
            </div>

            <!-- Nội dung Học thuộc -->
            <div id="content-hoc-thuoc">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Hằng đẳng thức sẽ được chèn vào đây bằng JS -->
                </div>
            </div>

            <!-- Nội dung Luyện tập -->
            <div id="content-luyen-tap" class="hidden">
                 <div class="w-full max-w-2xl mx-auto p-6 bg-white rounded-xl shadow-lg">
                    <p id="progress-text" class="text-center text-gray-600 mb-2 font-semibold"></p>
                    <div id="question-container" class="text-center">
                        <h3 class="text-2xl font-bold mb-4">Câu hỏi:</h3>
                        <p id="question-text" class="text-3xl md:text-4xl font-mono bg-gray-100 p-6 rounded-lg mb-6"></p>
                        <h4 class="text-xl font-semibold mb-4">Chọn đáp án đúng:</h4>
                        <div id="options-container" class="grid grid-cols-1 gap-4">
                            <!-- Các đáp án sẽ được chèn vào đây -->
                        </div>
                    </div>
                     <div id="explanation-container" class="hidden mt-4 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg">
                        <p id="explanation-text" class="text-blue-800"></p>
                     </div>
                    <div class="text-center mt-6">
                        <button id="next-question-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition-transform transform hover:scale-105 focus:outline-none hidden">
                            Câu tiếp theo
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DỮ LIỆU ---
            const identities = [
                { name: "1. Bình phương của một tổng", formula: "(A + B)<sup>2</sup> = A<sup>2</sup> + 2AB + B<sup>2</sup>" },
                { name: "2. Bình phương của một hiệu", formula: "(A - B)<sup>2</sup> = A<sup>2</sup> - 2AB + B<sup>2</sup>" },
                { name: "3. Hiệu hai bình phương", formula: "A<sup>2</sup> - B<sup>2</sup> = (A - B)(A + B)" },
                { name: "4. Lập phương của một tổng", formula: "(A + B)<sup>3</sup> = A<sup>3</sup> + 3A<sup>2</sup>B + 3AB<sup>2</sup> + B<sup>3</sup>" },
                { name: "5. Lập phương của một hiệu", formula: "(A - B)<sup>3</sup> = A<sup>3</sup> - 3A<sup>2</sup>B + 3AB<sup>2</sup> - B<sup>3</sup>" },
                { name: "6. Tổng hai lập phương", formula: "A<sup>3</sup> + B<sup>3</sup> = (A + B)(A<sup>2</sup> - AB + B<sup>2</sup>)" },
                { name: "7. Hiệu hai lập phương", formula: "A<sup>3</sup> - B<sup>3</sup> = (A - B)(A<sup>2</sup> + AB + B<sup>2</sup>)" }
            ];

            const practiceQuestions = [
                // --- HĐT 1: Bình phương của một tổng ---
                {
                    question: "Hằng đẳng thức (A + B)² = A² + 2AB + B² có tên là gì?",
                    options: ["Bình phương của một tổng", "Tổng hai bình phương", "Bình phương của một hiệu", "Hiệu hai bình phương"],
                    correct: 0,
                    explanation: "Đây là hằng đẳng thức số 1: Bình phương của một tổng."
                },
                {
                    question: "Chọn dạng khai triển của (A + B)²",
                    options: ["A² + B²", "A² + 2AB + B²", "A² - 2AB + B²", "A² - B²"],
                    correct: 1,
                    explanation: "Bình phương của một tổng bằng bình phương số thứ nhất, cộng hai lần tích số thứ nhất với số thứ hai, cộng bình phương số thứ hai. Lỗi sai phổ biến là quên số hạng 2AB."
                },
                {
                    question: "Chọn dạng thu gọn của A² + 2AB + B²",
                    options: ["(A - B)²", "A² + B²", "(A + B)²", "(A + B)(A - B)"],
                    correct: 2,
                    explanation: "Đây là vế phải của hằng đẳng thức 'Bình phương của một tổng'."
                },

                // --- HĐT 2: Bình phương của một hiệu ---
                {
                    question: "Hằng đẳng thức (A - B)² = A² - 2AB + B² có tên là gì?",
                    options: ["Hiệu hai bình phương", "Bình phương của một tổng", "Bình phương của một hiệu", "Hiệu hai lập phương"],
                    correct: 2,
                    explanation: "Đây là hằng đẳng thức số 2: Bình phương của một hiệu."
                },
                {
                    question: "Chọn dạng khai triển của (A - B)²",
                    options: ["A² - B²", "A² + 2AB + B²", "A² - 2AB - B²", "A² - 2AB + B²"],
                    correct: 3,
                    explanation: "Bình phương của một hiệu bằng bình phương số thứ nhất, trừ hai lần tích số thứ nhất với số thứ hai, cộng bình phương số thứ hai. Chú ý dấu trừ ở 2AB."
                },
                {
                    question: "Chọn dạng thu gọn của A² - 2AB + B²",
                    options: ["(A - B)²", "(A + B)²", "A² - B²", "(A - B)(A + B)"],
                    correct: 0,
                    explanation: "Đây là vế phải của hằng đẳng thức 'Bình phương của một hiệu'."
                },

                // --- HĐT 3: Hiệu hai bình phương ---
                {
                    question: "Hằng đẳng thức A² - B² = (A - B)(A + B) có tên là gì?",
                    options: ["Bình phương của một hiệu", "Hiệu hai bình phương", "Hiệu hai lập phương", "Tổng hai bình phương"],
                    correct: 1,
                    explanation: "Đây là hằng đẳng thức số 3: Hiệu hai bình phương."
                },
                {
                    question: "Chọn dạng khai triển của A² - B²",
                    options: ["(A - B)²", "(A - B)(A + B)", "(A + B)²", "A² + B²"],
                    correct: 1,
                    explanation: "Hiệu hai bình phương bằng hiệu hai số nhân với tổng hai số."
                },
                {
                    question: "Chọn dạng thu gọn của (A - B)(A + B)",
                    options: ["A² + B²", "(A - B)²", "A² - B²", "(A + B)²"],
                    correct: 2,
                    explanation: "Đây là vế phải của hằng đẳng thức 'Hiệu hai bình phương'."
                },

                // --- HĐT 4: Lập phương của một tổng ---
                {
                    question: "Hằng đẳng thức (A + B)³ = A³ + 3A²B + 3AB² + B³ có tên là gì?",
                    options: ["Tổng hai lập phương", "Lập phương của một hiệu", "Lập phương của một tổng", "Bình phương của một tổng"],
                    correct: 2,
                    explanation: "Đây là hằng đẳng thức số 4: Lập phương của một tổng."
                },
                {
                    question: "Chọn dạng khai triển của (A + B)³",
                    options: ["A³ + B³", "A³ + 3A²B + 3AB² + B³", "A³ - 3A²B + 3AB² - B³", "A³ + 3A²B - 3AB² + B³"],
                    correct: 1,
                    explanation: "Lập phương của một tổng có tất cả các số hạng đều mang dấu cộng. Chú ý các hệ số 1, 3, 3, 1."
                },
                {
                    question: "Chọn dạng thu gọn của A³ + 3A²B + 3AB² + B³",
                    options: ["(A - B)³", "A³ + B³", "(A + B)³", "(A + B)(A² - AB + B²)"],
                    correct: 2,
                    explanation: "Đây là vế phải của hằng đẳng thức 'Lập phương của một tổng'."
                },

                // --- HĐT 5: Lập phương của một hiệu ---
                {
                    question: "Hằng đẳng thức (A - B)³ = A³ - 3A²B + 3AB² - B³ có tên là gì?",
                    options: ["Hiệu hai lập phương", "Lập phương của một hiệu", "Bình phương của một hiệu", "Lập phương của một tổng"],
                    correct: 1,
                    explanation: "Đây là hằng đẳng thức số 5: Lập phương của một hiệu."
                },
                {
                    question: "Chọn dạng khai triển của (A - B)³",
                    options: ["A³ - B³", "A³ - 3A²B - 3AB² - B³", "A³ + 3A²B + 3AB² + B³", "A³ - 3A²B + 3AB² - B³"],
                    correct: 3,
                    explanation: "Lập phương của một hiệu có các dấu đan xen (+, -, +, -). Chú ý các hệ số 1, 3, 3, 1."
                },
                {
                    question: "Chọn dạng thu gọn của A³ - 3A²B + 3AB² - B³",
                    options: ["(A - B)³", "A³ - B³", "(A + B)³", "(A - B)(A² + AB + B²)"],
                    correct: 0,
                    explanation: "Đây là vế phải của hằng đẳng thức 'Lập phương của một hiệu'."
                },

                // --- HĐT 6: Tổng hai lập phương ---
                {
                    question: "Hằng đẳng thức A³ + B³ = (A + B)(A² - AB + B²) có tên là gì?",
                    options: ["Lập phương của một tổng", "Tổng hai bình phương", "Tổng hai lập phương", "Hiệu hai lập phương"],
                    correct: 2,
                    explanation: "Đây là hằng đẳng thức số 6: Tổng hai lập phương."
                },
                {
                    question: "Chọn dạng khai triển của A³ + B³",
                    options: ["(A + B)³", "(A + B)(A² + AB + B²)", "(A + B)(A² - AB + B²)", "(A - B)(A² + AB + B²)"],
                    correct: 2,
                    explanation: "Tổng hai lập phương có (A+B) ở thừa số đầu tiên và (-AB) ở thừa số thứ hai (bình phương thiếu của một hiệu)."
                },
                {
                    question: "Chọn dạng thu gọn của (A + B)(A² - AB + B²)",
                    options: ["(A + B)³", "A³ - B³", "A³ + B³", "(A - B)³"],
                    correct: 2,
                    explanation: "Đây là vế phải của hằng đẳng thức 'Tổng hai lập phương'."
                },

                // --- HĐT 7: Hiệu hai lập phương ---
                {
                    question: "Hằng đẳng thức A³ - B³ = (A - B)(A² + AB + B²) có tên là gì?",
                    options: ["Lập phương của một hiệu", "Hiệu hai bình phương", "Tổng hai lập phương", "Hiệu hai lập phương"],
                    correct: 3,
                    explanation: "Đây là hằng đẳng thức số 7: Hiệu hai lập phương."
                },
                {
                    question: "Chọn dạng khai triển của A³ - B³",
                    options: ["(A - B)³", "(A - B)(A² - AB + B²)", "(A + B)(A² + AB + B²)", "(A - B)(A² + AB + B²)"],
                    correct: 3,
                    explanation: "Hiệu hai lập phương có (A-B) ở thừa số đầu tiên và tất cả dấu cộng ở thừa số thứ hai (bình phương thiếu của một tổng)."
                },
                {
                    question: "Chọn dạng thu gọn của (A - B)(A² + AB + B²)",
                    options: ["(A - B)³", "A³ - B³", "A³ + B³", "(A + B)³"],
                    correct: 1,
                    explanation: "Đây là vế phải của hằng đẳng thức 'Hiệu hai lập phương'."
                }
            ];

            // --- DOM ELEMENTS ---
            const tabHocThuoc = document.getElementById('tab-hoc-thuoc');
            const tabLuyenTap = document.getElementById('tab-luyen-tap');
            const contentHocThuoc = document.getElementById('content-hoc-thuoc');
            const contentLuyenTap = document.getElementById('content-luyen-tap');
            const hocThuocContainer = contentHocThuoc.querySelector('.grid');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const nextQuestionBtn = document.getElementById('next-question-btn');
            const progressText = document.getElementById('progress-text');
            const explanationContainer = document.getElementById('explanation-container');
            const explanationText = document.getElementById('explanation-text');
            
            let currentQuestionIndex = 0;
            let shuffledQuestions = [];

            // --- CHỨC NĂNG CHUYỂN TAB ---
            tabHocThuoc.addEventListener('click', () => {
                contentHocThuoc.classList.remove('hidden');
                contentLuyenTap.classList.add('hidden');
                tabHocThuoc.classList.add('active');
                tabLuyenTap.classList.remove('active');
            });
            
            tabLuyenTap.addEventListener('click', () => {
                contentHocThuoc.classList.add('hidden');
                contentLuyenTap.classList.remove('hidden');
                tabHocThuoc.classList.remove('active');
                tabLuyenTap.classList.add('active');
                startPractice();
            });

            // --- CHỨC NĂNG HỌC THUỘC ---
            function renderIdentities() {
                hocThuocContainer.innerHTML = '';
                identities.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'identity-card text-white p-6 rounded-lg shadow-lg';
                    card.innerHTML = `
                        <h4 class="font-bold text-xl mb-2">${item.name}</h4>
                        <p class="font-mono text-2xl">${item.formula}</p>
                    `;
                    hocThuocContainer.appendChild(card);
                });
            }

            // --- CHỨC NĂNG LUYỆN TẬP ---
            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            function startPractice() {
                shuffledQuestions = [...practiceQuestions];
                shuffle(shuffledQuestions);
                currentQuestionIndex = 0;
                displayQuestion();
            }

            function displayQuestion() {
                nextQuestionBtn.classList.add('hidden');
                explanationContainer.classList.add('hidden');
                 if (currentQuestionIndex >= shuffledQuestions.length) {
                    shuffle(shuffledQuestions);
                    currentQuestionIndex = 0;
                }
                
                const q = shuffledQuestions[currentQuestionIndex];
                questionText.innerHTML = q.question;
                optionsContainer.innerHTML = '';
                
                q.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.innerHTML = option;
                    button.className = 'option-btn font-mono text-xl p-4 border-2 border-gray-300 rounded-lg bg-white hover:bg-gray-100';
                    button.dataset.index = index;
                    button.addEventListener('click', handleOptionClick);
                    optionsContainer.appendChild(button);
                });
                
                progressText.textContent = `Câu hỏi ${currentQuestionIndex + 1} / ${shuffledQuestions.length}`;
            }

            function handleOptionClick(event) {
                const selectedButton = event.target;
                const selectedIndex = parseInt(selectedButton.dataset.index);
                const q = shuffledQuestions[currentQuestionIndex];

                const allButtons = optionsContainer.querySelectorAll('.option-btn');
                allButtons.forEach(btn => {
                    btn.disabled = true; // Vô hiệu hóa các nút sau khi chọn
                    btn.removeEventListener('click', handleOptionClick);
                });

                if (selectedIndex === q.correct) {
                    selectedButton.classList.add('correct');
                } else {
                    selectedButton.classList.add('incorrect');
                    // Hiển thị đáp án đúng
                    optionsContainer.querySelector(`[data-index='${q.correct}']`).classList.add('correct');
                }

                // Hiển thị giải thích
                explanationText.textContent = q.explanation;
                explanationContainer.classList.remove('hidden');

                // Hiển thị nút "Câu tiếp theo"
                nextQuestionBtn.classList.remove('hidden');
            }

            nextQuestionBtn.addEventListener('click', () => {
                currentQuestionIndex++;
                displayQuestion();
            });

            // --- KHỞI TẠO BAN ĐẦU ---
            renderIdentities();
        });
    </script>

</body>
</html>

